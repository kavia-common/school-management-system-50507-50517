{"is_source_file": true, "format": "JavaScript (React)", "description": "This file defines a React component named StaffPage that manages the display and editing of staff member data, interfacing with FastAPI endpoints via an api service. It includes functionalities for loading staff data, searching, adding, editing, deleting, and rendering a UI with a table and form.", "external_files": ["../services/api", "./components"], "external_methods": ["api.listStaff", "api.createStaff", "api.updateStaff", "api.deleteStaff"], "published": ["StaffPage"], "classes": [], "methods": [{"name": "load()", "description": "Fetches staff data from the API based on current search query and updates the state.", "scope": "StaffPage", "scopeKind": "function"}, {"name": "startAdd()", "description": "Resets the form to start adding a new staff member.", "scope": "StaffPage", "scopeKind": "function"}, {"name": "startEdit(row)", "description": "Pre-fills the form with selected staff member data for editing.", "scope": "StaffPage", "scopeKind": "function"}, {"name": "save(e)", "description": "Saves the staff member data by calling create or update API endpoints.", "scope": "StaffPage", "scopeKind": "function"}, {"name": "remove(row)", "description": "Deletes a staff member after user confirmation.", "scope": "StaffPage", "scopeKind": "function"}, {"name": "StaffPage()", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["api.listStaff", "api.createStaff", "api.updateStaff", "api.deleteStaff"], "search-terms": ["StaffPage", "React", "useEffect", "useState", "FastAPI", "Staff management", "CRUD operations", "React table", "Form handling"], "state": 2, "file_id": 21, "knowledge_revision": 48, "git_revision": "719ec4631eef58c20dfaefb89f8e363d47ee5ce0", "ctags": [{"_type": "tag", "name": "StaffPage", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^export default function StaffPage() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "columns", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^        <Table columns={columns} rows={items} onEdit={startEdit} onDelete={remove} \\/>$/", "language": "JavaScript", "kind": "field", "scope": "loading..", "scopeKind": "class"}, {"_type": "tag", "name": "email", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^      const payload = { name: form.name, role: form.role, email: form.email };$/", "language": "JavaScript", "kind": "property", "scope": "StaffPage.save.payload", "scopeKind": "class"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^  async function load() {$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "StaffPage", "scopeKind": "function"}, {"_type": "tag", "name": "name", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^      const payload = { name: form.name, role: form.role, email: form.email };$/", "language": "JavaScript", "kind": "property", "scope": "StaffPage.save.payload", "scopeKind": "class"}, {"_type": "tag", "name": "payload", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^      const payload = { name: form.name, role: form.role, email: form.email };$/", "language": "JavaScript", "kind": "class", "scope": "StaffPage.save", "scopeKind": "class"}, {"_type": "tag", "name": "remove", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^  async function remove(row) {$/", "language": "JavaScript", "kind": "function", "signature": "(row)", "scope": "StaffPage", "scopeKind": "function"}, {"_type": "tag", "name": "role", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^      const payload = { name: form.name, role: form.role, email: form.email };$/", "language": "JavaScript", "kind": "property", "scope": "StaffPage.save.payload", "scopeKind": "class"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^  async function save(e) {$/", "language": "JavaScript", "kind": "function", "signature": "(e)", "scope": "StaffPage", "scopeKind": "function"}, {"_type": "tag", "name": "startAdd", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^  function startAdd() { setForm({ id: null, name: \"\", role: \"\", email: \"\" }); }$/", "language": "JavaScript", "kind": "function", "signature": "()", "scope": "StaffPage", "scopeKind": "function"}, {"_type": "tag", "name": "startEdit", "path": "/home/kavia/workspace/code-generation/school-management-system-50507-50517/sms_frontend/src/pages/Staff.js", "pattern": "/^  function startEdit(row) { setForm({ id: row.id, name: row.name || \"\", role: row.role || \"\", em/", "language": "JavaScript", "kind": "function", "signature": "(row)", "scope": "StaffPage", "scopeKind": "function"}], "hash": "3c714a17b0e4f7bd8568d1669a961b67", "format-version": 4, "code-base-name": "sms_frontend", "filename": "sms_frontend/src/pages/Staff.js", "fields": [{"name": "<Table columns={columns} rows={items} onEdit={startEdit} onDelete={remove} \\/>", "scope": "loading..", "scopeKind": "class", "description": "unavailable"}, {"name": "const payload = { name: form.name, role: form.role, email: form.email };", "scope": "StaffPage.save.payload", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"48": "719ec4631eef58c20dfaefb89f8e363d47ee5ce0"}]}